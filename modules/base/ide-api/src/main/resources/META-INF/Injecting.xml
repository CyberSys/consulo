<consulo-plugin>
  <extensionPoints>
    <extensionPoint name="injectionLanguageSupport" interface="consulo.ide.impl.psi.injection.LanguageInjectionSupport"/>
    <extensionPoint name="injectionConfig" beanClass="consulo.ide.impl.intelliLang.inject.LanguageInjectionConfigBean"/>
  </extensionPoints>

  <extensions defaultExtensionNs="consulo">
    <intentionAction>
      <className>consulo.ide.impl.intelliLang.inject.InjectLanguageAction</className>
      <category>Language Injection</category>
    </intentionAction>
    <intentionAction>
      <className>consulo.ide.impl.intelliLang.inject.UnInjectLanguageAction</className>
      <category>Language Injection</category>
    </intentionAction>
    <intentionAction>
      <className>consulo.ide.impl.intelliLang.inject.EditInjectionSettingsAction</className>
      <category>Language Injection</category>
    </intentionAction>

    <applicationService serviceImplementation="consulo.ide.impl.psi.injection.LanguageSupportCache"/>

    <highlightErrorFilter implementation="consulo.ide.impl.intelliLang.inject.CustomErrorElementFilter"/>

    <projectConfigurable displayName="Language Injections" id="IntelliLang.Configuration" parentId="editor" instance="consulo.ide.impl.intelliLang.InjectionsSettingsUI" nonDefaultProject="true"/>

    <multiHostInjector forClass="consulo.language.psi.PsiLanguageInjectionHost"
                       implementationClass="consulo.ide.impl.intelliLang.inject.CommentLanguageInjector"/>
    <multiHostInjector forClass="consulo.language.psi.PsiLanguageInjectionHost"
                       implementationClass="consulo.ide.impl.intelliLang.inject.TemporaryPlacesInjector"/>

    <multiHostInjector forClass="consulo.language.psi.PsiLanguageInjectionHost"
					   implementationClass="consulo.ide.impl.intelliLang.inject.DefaultLanguageInjector" order="last"/>

    <projectService serviceInterface="consulo.ide.impl.intelliLang.inject.TemporaryPlacesRegistry"
                    serviceImplementation="consulo.ide.impl.intelliLang.inject.TemporaryPlacesRegistry"/>

    <applicationService serviceImplementation="consulo.ide.impl.psi.injection.impl.ApplicationInjectionConfiguration"/>

    <projectService serviceImplementation="consulo.ide.impl.psi.injection.impl.ProjectInjectionConfiguration"/>

    <psi.referenceContributor implementation="consulo.ide.impl.intelliLang.references.InjectedReferencesContributor"/>
    <referenceInjector implementation="consulo.ide.impl.intelliLang.references.FileReferenceInjector"/>
    <localInspection implementationClass="consulo.ide.impl.intelliLang.references.InjectedReferencesInspection"
                     enabledByDefault="true" level="ERROR"
                     displayName="Injected References" groupBundle="consulo.language.editor.inspection.InspectionsBundle" groupKey="inspection.general.tools.group.name"/>
  </extensions>
</consulo-plugin>
