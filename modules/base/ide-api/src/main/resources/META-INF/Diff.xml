<!--
  - Copyright 2013-2016 consulo.io
  -
  - Licensed under the Apache License, Version 2.0 (the "License");
  - you may not use this file except in compliance with the License.
  - You may obtain a copy of the License at
  -
  - http://www.apache.org/licenses/LICENSE-2.0
  -
  - Unless required by applicable law or agreed to in writing, software
  - distributed under the License is distributed on an "AS IS" BASIS,
  - WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  - See the License for the specific language governing permissions and
  - limitations under the License.
  -->
<consulo-plugin>
  <extensionPoints>
    <extensionPoint name="diff.DiffTool" interface="consulo.ide.impl.idea.diff.DiffTool"/>
    <extensionPoint name="diff.merge.MergeTool" interface="consulo.ide.impl.idea.diff.merge.MergeTool"/>
    <extensionPoint name="openapi.vcs.changes.actions.diff.ChangeDiffRequestProvider"
                    interface="consulo.ide.impl.idea.openapi.vcs.changes.actions.diff.ChangeDiffRequestProvider"/>
    <extensionPoint name="openapi.vcs.changes.actions.diff.ChangeDiffViewerWrapperProvider"
                    interface="consulo.ide.impl.idea.openapi.vcs.changes.actions.diff.ChangeDiffViewerWrapperProvider"/>
    <extensionPoint name="diff.DiffExtension" interface="consulo.ide.impl.idea.diff.DiffExtension"/>
  </extensionPoints>

  <extensions defaultExtensionNs="consulo">
    <applicationService serviceInterface="consulo.ide.impl.idea.diff.impl.DiffSettingsHolder"
                        serviceImplementation="consulo.ide.impl.idea.diff.impl.DiffSettingsHolder"/>
    <applicationService serviceInterface="consulo.ide.impl.idea.diff.tools.util.base.TextDiffSettingsHolder"
                        serviceImplementation="consulo.ide.impl.idea.diff.tools.util.base.TextDiffSettingsHolder"/>
    <applicationService serviceInterface="consulo.ide.impl.idea.diff.tools.external.ExternalDiffSettings"
                        serviceImplementation="consulo.ide.impl.idea.diff.tools.external.ExternalDiffSettings"/>
    <applicationService serviceInterface="consulo.ide.impl.idea.diff.DiffManager"
                        serviceImplementation="consulo.ide.impl.idea.diff.DiffManagerImpl"/>
    <applicationService serviceInterface="consulo.ide.impl.idea.diff.DiffContentFactory"
                        serviceImplementation="consulo.ide.impl.idea.diff.DiffContentFactoryImpl"/>
    <applicationService serviceInterface="consulo.ide.impl.idea.diff.DiffRequestFactory"
                        serviceImplementation="consulo.ide.impl.idea.diff.DiffRequestFactoryImpl"/>
    <applicationService serviceInterface="consulo.ide.impl.idea.diff.comparison.ComparisonManager"
                        serviceImplementation="consulo.ide.impl.idea.diff.comparison.ComparisonManagerImpl"/>

    <projectService serviceInterface="consulo.ide.impl.idea.diff.editor.DiffEditorTabFilesManager" serviceImplementation="consulo.ide.impl.idea.diff.editor.DefaultDiffTabFilesManager"/>

    <fileEditorProvider implementation="consulo.ide.impl.idea.diff.editor.DiffEditorProvider"/>

    <editorTabTitleProvider implementation="consulo.ide.impl.idea.diff.editor.DiffEditorTabTitleProvider"/>
    <editorTabColorProvider implementation="consulo.ide.impl.idea.diff.editor.VcsEditorTabColorProvider"/>

    <iconDescriptorUpdater implementation="consulo.diff.editor.impl.DiffIconDescriptorUpdater" order="last"/>

    <diff.merge.MergeTool implementation="consulo.ide.impl.idea.openapi.vcs.changes.patch.tool.ApplyPatchMergeTool"/>
    <diff.DiffTool implementation="consulo.ide.impl.idea.openapi.vcs.changes.patch.tool.ApplyPatchDiffTool"/>

    <daemon.highlightInfoFilter implementation="consulo.ide.impl.idea.diff.contents.DiffPsiFileSupport$HighlightFilter"/>
    <daemon.intentionActionFilter implementation="consulo.ide.impl.idea.diff.contents.DiffPsiFileSupport$IntentionFilter"/>
    <defaultHighlightingSettingProvider id="GeneratedSourcesHighlightingSettingProvider"
                                        implementation="consulo.ide.impl.idea.diff.contents.DiffPsiFileSupport$HighlightingSettingProvider"/>

    <openapi.vcs.actions.AnnotateToggleAction.Provider implementation="consulo.ide.impl.idea.openapi.vcs.actions.AnnotateLocalFileAction$Provider"/>
    <openapi.vcs.actions.AnnotateToggleAction.Provider implementation="consulo.ide.impl.idea.openapi.vcs.actions.AnnotateVcsVirtualFileAction$Provider"/>
    <openapi.vcs.actions.AnnotateToggleAction.Provider implementation="consulo.ide.impl.idea.openapi.vcs.actions.AnnotateDiffViewerAction$Provider" order="first"/>

    <getDataRule implementation="consulo.ide.impl.idea.diff.actions.impl.DiffNavigatableArrayRule"/>

    <colorAndFontPanelFactory implementation="consulo.ide.impl.idea.openapi.diff.impl.settings.DiffColorsPageFactory"/>
    <colorAndFontDescriptorProvider implementation="consulo.ide.impl.idea.openapi.diff.impl.settings.DiffColorsPageFactory"/>

    <diff.DiffExtension implementation="consulo.ide.impl.idea.openapi.vcs.actions.AnnotateDiffViewerAction$MyDiffExtension"/>
  </extensions>
</consulo-plugin>